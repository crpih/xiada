# Formato campos: foma,etiqueta,lema,unidade[,x]

# (1) Palabras individuais

no|No,Raa3ms,o,no,x
na|Na,Raa3fs,o,na,x
nos|Nos,Raa3mp,o,nos,x
nas|Nas,Raa3fp,o,nas,x

# (2) ca: se antes est? un adverbio comparador (m?is, menos) ou vai
# seguido de substantivo ou adxectivo masculino, ou seguido de xerundio
# ou infinitivo non ? a contracci?n, sen?n a conxunci?n:

menos|m?is|,W.,_,_	con,P,con,_	a,Ddfs,o,_,x	
con,P,con,_	a,Ddfs,o,_,x	_,S.m.|A.m.|V0x*|V0f*,_,_

# para que só lematice con don cando vaia seguido de nome propio, e non mesture coas outras análises
# NON SE PODEN EMPREGAR AS REGRAS DE PODADO PARA EVITAR UNHA LEMATIZACIÓN. TEMOS QUE INTENTAR RESOLVELO DOUTRO XEITO.
dona,Scfs,dona|dono,_,x	_,Spf0,_,_

# (3) "ca": Temos que diferenciar a contracción non normativa da
# conxunción subordinante. Se segue Scfs pode ser contracción mais se
# seguen algúns dos elementos especificados é conxunción.  Cambiamos
# Ddfs por artigo (D*), porque se despois de "ca" vén "o, a, os, as,
# un, unha, uns, unhas" é Cs. E pódeselle sumar á regra tamén todos os
# demostrativos, posesivos, e indefinidos masculinos.  Así
# solucionamos tamén parte dos erros de "ca" como contracción non
# normativa de "con" + "a" cando segue demostrativo. Non podemos
# incluír os numerais masculinos na regra polos romanos.

# Penso que temos que incorporar a unidade "ca" nas regras para
# distinguir entre a contracción non normativa e a conxunción "ca",
# porque senón impide que cando a contracción se grafa como "coa" dea
# esa análise, proporcionando sempre a de Vpi de "coar". A maiores hai
# que eliminar as etiquetas de posesivo e indefinido (pois si se
# combina con eles, ou mellor, restrinxilo ós masculinos, de xeito que
# a regra quede como segue:

con,P,con,ca	a,Ddfs,o,_,x	_,D*|E*|M*m.|I.m.|R*|*p,_,_

# (4) a, o, os, as, non son artigo (a non ser que estean nunha
# contracci?n) nin substantivo se despois v?n unha forma verbal de
# indicativo ou subxuntivo. O mesmo pasa coas formas non binarias,
# s? que non hai casos en contracci?ns, polo que non as especificamos

a|as|o|os|a/o|o/a|as/os|os/as|@|@s,Dd*,_,!?|da|coa|na|c?|pr?|?s|das|coas|nas|c?s|pr?s|?|ao|do|co|no|c?|pr?|?s|aos|dos|cos|nos|c?s|pr?s,x	_,V.i*|V.s*,_,_
a|as|o|os,Scm.,_,_,x	_,V.i*|V.s*,_,_

# (regra nova porque elimino "o") a, os, as, non son artigo (a non ser que estean nunha
# contracci?n) se despois v?n unha forma verbal de infinitivo ou xerundio

a|as|os|o/a|a/o|as/os|os/as|@|@s,Dd*,_,!?|da|coa|na|c?|pr?|?s|das|coas|nas|c?s|pr?s|?s|aos|dos|cos|nos|c?s|pr?s,x	_,V.f*|V0x*,_,_

# (5) se "o, a, os,as" están nunha contracción (polo tanto precedidos de
# Preposición) e despois vén algo identificado como Verbo en
# indicativo ou subxuntivo impide que esa combinación de etiquetas
# sexa válida (nuns casos será incorrecta a análise como contracción
# e noutros a análise como forma verbal conxugada):

# => Isto non se pode representar así, así que de momento queda desactivada.
# => Eva vai estudar se se pode desglosar e, se non é posible, quizais haxa
# => que ampliar as posibilidades de representación das regras.

#_,P,_,_,	a|as|o|os,Dd*,_,á|da|coa|na|cá|prá|ás|das|coas|nas|cás|prás|ó|ao|do|co|no|có|pró|ós|aos|dos|cos|nos|cós|prós,	_,V.i*|V.s*,_,_,x

# (6) Regra xenérica que afecta ao artigo e ás formas conxugadas en indicativo ou subxuntivo.
# Non son nin artigo nin substantivo:

a|as|o|os,Dd*,_,!á|da|coa|na|cá|prá|ás|das|coas|nas|cás|prás|ó|ao|do|co|no|có|pró|ós|aos|dos|cos|nos|cós|prós,x	_,V.i*|V.s*,_,_
a|as|o|os,Scm.,_,_,x	_,V.i*|V.s*,_,_

# (7) o,a,os,as precedidos de "como" e seguidos de preposición "de" que
# non estea na unidade "da|das|dese|deses|destes" no n pode ser Raa*
# (non quero que a regra afecte ás unidades "da|das", etc, porque poden
# estar mal recoñecidas e ser formas verbais, en cuxo caso "o,a,..." si
# sería pronome):

como,_,como,_	_,Raa*,o,_,x	de,P,_,!da|!das|!dese|!deses|!destes_
como,_,como,_	_,Raa*,o,_,x	de,P,_,da|das_	a|as,Ddf.,_,_,	_,*f.,_,_


# (8) A non é preposición se despois vén unha forma verbal de indicativo
# ou subxuntivo:

a,P,_,_,x	_,V.i*|V.s*,_,_

# (9) "a", se segue algún tipo de determinante masculino (artigo,
# demostrativo, posesivo, indefinido) e non está en ningunha
# contracción excepto "ca" [teño que sacar "ca" de aí pola ambigüidade
# segmental, porque como Cs si é posible, anque non como contracción]
# non pode ser o artigo. Non podo incluír os numerais masculinos na
# regra polos romanos

a,Ddfs,o,!á|!da|!coa|!na|!cá|!prá,x	_,D.ms|E.ms|M*ms|I.ms,_,_

# (10) IMPORTE(S): Temos que diferenciar o substantivo da forma verbal e 
# para iso estableceremos as seguintes regras:
# a) como verbo non pode ir precedido nin seguido de adxectivo;
# b) tampouco pode ir precedido de artigo nin determinante masculino e
# c) se vai precedido da preposición "por" e seguido da preposición
# "de" é seguro substantivo:

_,A*|D.m.|.d*,_,_,x	_,V0f*,impor,_	te,Ra*,te,_
_,A*|D.m.|.d*,_,_,x	importe,V*,importar,_
_,V0f*,impor,_	te,Ra*,te,_	_,A*,_,x,_
importe,V*,importar,_	_,A*,_,_,x
por,P,por,_	importe,V*,importar,_,x	de,P,de,_

# (11) CREO: Vpi10s e tamén Vpi30s seguido de Raa3ms. Cando segue
# conxunción subordinante "que", precedido ou non do adverbio "non" é
# 1ª persoa do singular de crer. son incompatibles dous directos
# dependendo da mesma forma verbal, polo que se á forma "creo" lle
# segue un "que" é imposible a análise como 3ª do singular máis
# clítico:

cre,Vpi30s,crer,_,x	o,Raa3ms,o,_	que,Cs,que,_

# (12) nos + verbo => ese nos nunca é contracción

en,P,en,_	os,Ddmp,o,_,x	_,V*,_,_

# (13) de momento + verbo => de momento sempre é locución adverbial

de,_,de,_	momento,_,momento,_,x	_,V*,_,_

# (14) "unha vez" non é locución cando ese "unha" forma parte dunha
# contracción.

de,P,de,dunha	unha vez,L*,unha vez,_,x
con,P,con,cunha	unha vez,L*,unha vez,_,x
en,P,en,nunha	unha vez,L*,unha vez,_,x

# (15) "a forza de" non pode ser locución cando ese "a" forma parte dunha
# contracción

de,P,de,da	a forza de,L*,a forza de,_,x
con,P,con,coa	a forza de,L*,a forza de,_,x
en,P,en,na	a forza de,L*,a forza de,_,x

# (16) se + non => se nunca é Rao3aa (salvo que o "se" veña dun verbo con clíticos)

# De aí que o nome do noso santiño débese non tanto ao trosque que se
# lle dá, como  ao enfeitamento da súa medieval  cabeza con enrouladas
# guedellas ou "croques".

se,Rao3aa,se,se,x	non,_,non,_

# (17) Se "se" está segudo de "se" e o primeiro non forma parte dunha forma
# verbal con clítico, entón é Cs + Rao3aa; se "se" forma parte dunha
# forma verbal con clítico e segue "se" (unidade), o segundo "se" é Cs
# e o primeiro Rao3aa:

se,Rao3aa,_,se,x	se,Rao3aa,_,_	_,V*|Rad*,_,_
se,Rao3aa,_,!se	se,Rao3aa,_,se,x
se,Rao3aa,_,se	se,Cs,_,se,x

# (18) Cando "se" está precedido da conxunción "coma" ou do adverbio
# relativo "como" e segue pretérito de subxuntivo, o "se" non é Rao*,
# senón Cs (ollo, pode ser pronome con "como", pero nese caso o "como"
# sería Cs: "como se dese conta, non o faría"):

coma,Cs,_,_	se,Rao3aa,se,se,x	_,Ves*,_,_
como,Wr,_,_	se,Rao3aa,se,se,x	_,Ves*,_,_

# (19) "en canto" + verbo en subxuntivo => en canto sempre é locución conxuntiva:

en,_,en,_	canto,_,canto,_,x	_,V.s*,_,_

# (20) "en canto a" seguida de artigo, substantivo plural ou substantivo
# masculino sempre é locución prepositiva:

en,_,en,_	canto,_,canto,_	a,_,a,_	_,D*,_,ao|aos|á|ás|ó|ós,x
en,_,en,_	canto,_,canto,_	a,_,a,_,x	_,S..p|S.m.,_,_

# (21) "compre" seguido de infinitivo, non pode ser Vps30s de comprar.

compre,Vps30s,comprar,_,x	_,V0f*,_,_

# (22) Estará mal formulada a regra de "compre"? É que non dá ningún
# resultado correspondente ó verbo "comprar"...  Para completala pódense
# incluír estas outras que digan que non pode ser do lema "cumprir" se
# a) "compre" está seguido de Sc?p; b) o precede pronome ou relativo
# non determinante:

# => A regra anterior si que estaba mal (faltaba un tabulador), así
# que de momento non activo estas regras.

compre,Vpi30s,cumprir,_,x	_,Sc.p,_,_

# compre,Vps30s,cumprir,_,x       _,Sc.p,_,_

_,R*|Tn*,_,_	compre,Vps30s,cumprir,_,x

# (23) verbo + cara a == cara a é Lp0

_,V*,_,_	cara,_,_,_	a,_,_,_	_,_,o,_,x
_,V*,_,_	cara,_,_,_	á,_,_,_,x
_,V*,_,_	cara,_,_,_	a,_,_,_,x

# (24) "cara a", se segue algún adverbio como adiante, abaixo, alá, etc,
# sempre é locución prepositiva. Non podemos estender a regra a todos
# os adverbios porque con "aínda" e "case" pode ser artigo; e tampouco a
# podemos estender só ós nucleares porque non sempre os etiqueta ben.

cara,_,cara,_	a,Ddfs|P|Raa3fs|Scms,_,_,x	abaixo|adiante|diante|alá|aló|arriba|atrás|dentro|fóra|ningures,_,_,_
cara,_,cara,_	a,Ddfs|P|Raa3fs|Scms,_,_,x	_,Wg|Wr,_,_

# (25) Tampouco poder ser A0fs, lema "caro", cando segue un adverbio coma
# os especificados:

cara,_,cara|caro,_	a,Ddfs|P|Raa3fs|Scms,_,_,x	abaixo|adiante|diante|alá|aló|arriba|atrás|dentro|fóra|ningures,_,_,_

# (26) "cara a" non pode ser P + P. Nese caso debería ser Lp. Hai que
# confiar en que Lp sea a segunda máis probable.

cara,P,cara,_	a,P,_,_,x	_,_,_,!ao|á|aos|ás|ó|ós
cara,P,cara,_	a,P,_,_,	_,_,_,ao|á|aos|ás|ó|ós,x

# (27) PARA. Na combinación "para + Rao3aa|Ra* + V0f*" non é do verbo
# "parar" senón preposición:

para,Vpi30s,parar,_,x	_,Ra*,_,_	_,V0f*,_,_	

# (28) Forma verbal con "mos" enclítico fronte á 1ª persoa de plural. Se
# precede "non", "que" ou "se" é a 1ª de plural. O mesmo se segue
# adxectivo plural, participio plural, substantivo ou artigo. Así
# mesmo, se está precedido de nós (Rt) ou dalgún pronome átono tamén é
# a P4 (primeira do plural)

non|aínda|que|se,_,_,_	_,V*,_,*mos	me,Rad1.s,me,_	os,Raa3mp,o,_,x
nós,Rt*,_,_	_,V*,_,*mos	me,Rad1.s,me,_	os,Raa3mp,o,_,x
_,Ra*,_,_	_,V*,_,*mos	me,Rad1.s,me,_	os,Raa3mp,o,_,x
_,V*,_,*mos	me,Rad1.s,me,_	os,Raa3mp,o,_,x	_,A0.p|V0p0.p|Sc*|D*,_,_

# (29) ESTAMOS + XERUNDIO é a perífrase verbal (Vpi10p+V0x000) se despois
# vén substantivo común, artigo ou pronome enclítico:

está,_,estar,_	me,Rad1.s,me,_	os,Raa3mp,o,_,x	_,V0x000,_,_	_,Sc*|D*|Ra*A0.p|V0p0.p|,_,_
está,_,estar,_	me,Rad1.s,me,_	os,Raa3mp,o,_,x	_,_,en|ante|perante|diante,_

# (30) Nós é Rt e non Sp* a comezo de secuencia se despois vén un verbo en
# indicativo de 1ª do plural; o mesmo se entre eles aparece un
# adverbio nuclear: ??? Comprobar se se pode facer.
# Mario: Non consigo que o etiquetador elixa Nós. De momento queda
# deshabilitada a regras.

Nós,Sp*,_,_,x	_,V.i10p,_,_
Nós,Sp*,_,_,x	_,Wn,_,_	_,V.i10p,_,_

# (31) A maior parte dos casos de "fora" etiquetados como W son verbo. A
# única regra que se me ocorre para corrixir esta incidencia a de que
# se segue participio impida a análise como W:

fora,Wn|P,fora,_,x	_,V0p*,_,_

# (32) aquel: Cando o precede o artigo masculino, sexa determinado ou
# indeterminado, é o Substantivo: un aquel, o aquel, etc. Metino no
# lexicón como nova entrada. Quizais non sexa preciso introducir esta
# regra, anque non hai ningún caso no corpus de adestramento...

_,D.ms,_,_,	aquel,E.ms,aquel,_,x

# (33) Artigo feminino cuxa unidade sexa "a" non pode ir seguido de
# demostrativo.

_,Ddfs,_,a,x	_,E*,_,_

# (34) incluímos non está seguido de Verbo, rexeita esa análise:

_,V*,_,_,	_,Ra*,_,se|o|os|a|as|nos,x	_,!V*|!Ra*,_,_

# Novas regras lingüísticas para implementar.

# (35) Forma verbal rematada en ditongo "ei", "ou", acentuado ou non, se despois está seguido de "o,a,os,as" estas formas non poden ser etiquetadas como pronome átono de acusativo.

*ei|*ou|*éi|óu,V*,_,_,	o|a|os|as,Raa3*,o,o|a|os|as,x

# (36) Cos verbos estar, andar, ser, volver, comezar, empezar, chegar, vir, botar e poñer, se despois segue 'a' e mais infinitivo -ou sexa, se é perífrase- e o 'a' conforma unidade propia -ou sexa, aparece como palabra independente- ese 'a' non pode ser Raa3fs nin Ddfs. Deste xeito orientamos a análise cara á preposición

_,V*,estar|andar|ser|volver|comezar|empezar|chegar|vir|botar|poñer,_,	a,Raa3fs|Ddfs,_,a,x	*ar|*er|*ir*|*or,V0*,_,_

# (37) O indefinido ambos se está seguido de "os dous" ou "as dúas" non pode ser non determinante:

ambos,Inmp,ambos,_,x	os,Ddmp,o,_,	dous,_,_,_
ambas,Infp,ambos,_,x	as,Ddfp,o,_,	dúas,_,_,_

# (38) Para evitar que tras preposición inequívoca poida vir forma conxugada de indicativo ou subxuntivo seguida de pronome de dativo (me) e de pronome de acusativo (o,a,os,as), de xeito que non desagregue en V + me + o|a|os|as (crema, cremas, préstamo, préstamos, rima, rimas, mordomo, mordomos, haima, haimas, díctamo, lema...)

con|de|en|entre|para|sen,P,_,_	_,V.i*|V.s*,_,_,x	me,_,_,_,	_,Raa3*,_,_

# (39) Para evitar que tras preposición inequívoca poida vir forma conxugada de indicativo ou subxuntivo seguido de pronome de acusativo (con son o*, con son a*, con es la*; con fas la* etc):

con|de|en|entre|para|sen,P,_,_	_,V.i*|V.s*,_,_,x	_,Raa3*,_,!o|!a|!os|!as

# (40) Para completar a regra que di que "o,a,os,as" non pode ser artigo (a non ser que estea nunha contracción) se despois vén forma verbal conxugada en indicativo, subxuntivo ou imperativo, imos restrinxir tamén a posible aparición de "a" como preposición en contextos nos que algún elemento atrae o clítico á posición anterior á forma verbal:

non,_,_,_,	a,P,a,_,x	_,V.i*|V.s*|V0m*,_,_

# (41) Para evitar que "día" sexa desagregado en V + Raa3 en casos como "día tras día", "día a día", "noite e día", "día e noite" etc.

di,V*,dicir,día,x	a,Raa*,o,_,	tras|a,_,tras|a,tras|a,	día,Scms,día,día,
noite,Scf,noite,noite,	e,Cc,e,e,	di,V*,dicir,día,x
di,V*,dicir,día,x	e,Cc,e,e,	noite,Scf,noite,noite

# (42) Para evitar que analice 'gústanos' e variantes como 'gustan + os Raa3mp', cando todos os casos corresponden a 'gusta + nos'. A 3ª de plural + clítico de acus non é unha cadea posible en galego, ou eso creo.

gustan|gusten|gustaban|gustarían,_,_,_	os,Raa3mp,o,_,x

# (43) O verbo 'vir' non ten usos transitivos, así que 'vir + la ou las/Raa3f.' debe ir seguido de infinitivo. Se non o está, ten que ser o substantivo, por tanto cortamos a análise como verbo con enclítico. O que non sei é se a 'x' que corta o camiño ten que estar no verbo ou no pronome. Entendo que no primeiro elemento que sería incorrecto. (para evitar a mesma análise con "vilo" meto no lexicón como segura a locución adverbial "en vilo", de modo que xa non teño que cubrilo con regra)

vir,_,_,vila|vilas,x	_,Raa3f.,_,_,	_,!V0f*,_,_

# (44) 'Cremos' (P4 do presente, ás veces do pretérito, de crer) analizado como 'cre V* + me + os: non pode ir seguido de 'que', 'en' ou 'infinitivo':

cre,_,_,cremos,x	me,_,_,_,	_,Raa3*,_,_,	que|en,_,_,_
cre,_,_,cremos,x	me,_,_,_,	_,Raa3*,_,_,	_,V0f*,_,_

# (45) Así mesmo, non podemos ter forma verbal seguida de 'me + os', se está precedida de 'como'; ten que ser necesariamente forma verbal de 1ª do plural e non desagregar en 3 constituíntes: 

como,_,_,_,	_,_,_,*mos,	me,_,_,_	_,Raa3*,_,_,x
